var opinionsCards,opinionsProgressDots,opinionsBtnRight,opinionsBtnLeft,opinionsBtns,opinionsSlider,realizationCards,realizationBtnRight,realizationBtnLeft,realizationBtns,realizationSlider,cardWidth=320,currentIndex=0,main2=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){opinionsCards=document.querySelectorAll(".opinions__card"),opinionsProgressDots=document.querySelectorAll(".opinions__progress-dot"),opinionsBtnLeft=document.querySelector(".opinions__btn--left"),opinionsBtnRight=document.querySelector(".opinions__btn--right"),opinionsBtns=document.querySelectorAll(".opinions__btn"),opinionsSlider=document.querySelector(".opinions__slider"),realizationCards=document.querySelectorAll(".realization__card"),realizationBtnRight=document.querySelector(".realization__btn--right"),realizationBtnLeft=document.querySelector(".realization__btn--left"),realizationBtns=document.querySelectorAll(".realization__btn"),realizationSlider=document.querySelector(".realization__slider")},prepareDOMEvents=function(){opinionsBtns.forEach(function(n){n.classList.contains("opinions__btn--left")?n.addEventListener("click",handleOpinionLeftSlider):n.addEventListener("click",handleOpinionRightSlider)}),handleOpinionsDot(),realizationBtns.forEach(function(n){n.classList.contains("realization__btn--left")?n.addEventListener("click",handleRealizationBtnLeftSlider):n.addEventListener("click",handleRealizationBtnRightSlider)}),handleRealizationSlider(),gsap.from(".header",{duratrion:1,y:"-100%",ease:"bounce"})},handleOpinionLeftSlider=function(){handleOpinionsSlider("left",-1)},handleOpinionRightSlider=function(){handleOpinionsSlider("right",1)},handleOpinionsDot=function(){opinionsProgressDots.forEach(function(e){e.addEventListener("click",function(){var n=parseInt(e.dataset.cardNumber),i=document.querySelector(".opinions__card--active"),n=n-parseInt(i.dataset.cardNumber);0!=n&&handleOpinionsSlider(0<n?"right":"left",Math.abs(n))})})},handleOpinionsSlider=function(n,i){var e=Array.from(opinionsCards).find(function(n){return n.classList.contains("opinions__card--active")}),t=e.dataset.cardNumber,r=(e.classList.remove("opinions__card--active"),parseInt(t)+i),e=320*((r=(r=3<r?1:r)<1?3:r)-1);opinionsSlider.style.transform="translateX(-".concat(e,"px)"),Array.from(opinionsCards).find(function(n){return parseInt(n.dataset.cardNumber)===r}).classList.add("opinions__card--active"),Array.from(opinionsProgressDots).find(function(n){return parseInt(n.dataset.cardNumber)===parseInt(t)}).classList.remove("opinions__progress-dot--active"),Array.from(opinionsProgressDots).find(function(n){return parseInt(n.dataset.cardNumber)===r}).classList.add("opinions__progress-dot--active")},handleRealizationBtnLeftSlider=function(){var n=realizationCards.length-1;currentIndex<=n&&(currentIndex--,handleRealizationSlider())},handleRealizationBtnRightSlider=function(){var n=realizationCards.length-1;currentIndex<n&&(currentIndex++,handleRealizationSlider())},handleRealizationSlider=function(){console.log(realizationCards.length);var n=realizationCards.length-1;currentIndex===n?(realizationSlider.style.transform="translateX(-".concat(280*currentIndex,"px)"),realizationBtnRight.classList.add("realization__btn--active")):(realizationSlider.style.transform="translateX(-".concat(currentIndex*cardWidth,"px)"),0===currentIndex?realizationBtnLeft.classList.add("realization__btn--active"):realizationBtnLeft.classList.remove("realization__btn--active"),n<=currentIndex?realizationBtnRight.classList.add("realization__btn--active"):realizationBtnRight.classList.remove("realization__btn--active"))};document.addEventListener("DOMContentLoaded",main2);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhbmRpbmdQYWdlLmpzIl0sIm5hbWVzIjpbIm9waW5pb25zQ2FyZHMiLCJvcGluaW9uc1Byb2dyZXNzRG90cyIsIm9waW5pb25zQnRuUmlnaHQiLCJvcGluaW9uc0J0bkxlZnQiLCJyZWFsaXphdGlvbkNhcmRzIiwicmVhbGl6YXRpb25CdG5SaWdodCIsInJlYWxpemF0aW9uQnRuTGVmdCIsInJlYWxpemF0aW9uQnRucyIsInJlYWxpemF0aW9uU2xpZGVyIiwiY3VycmVudEluZGV4IiwicHJlcGFyZURPTUVsZW1lbnRzIiwicHJlcGFyZURPTUV2ZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvcGluaW9uc0J0bnMiLCJvcGluaW9uc1NsaWRlciIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZU9waW5pb25MZWZ0U2xpZGVyIiwiaGFuZGxlT3BpbmlvblJpZ2h0U2xpZGVyIiwiaGFuZGxlT3BpbmlvbnNEb3QiLCJmb3JFYWNoIiwiaGFuZGxlUmVhbGl6YXRpb25CdG5MZWZ0U2xpZGVyIiwiaGFuZGxlUmVhbGl6YXRpb25CdG5SaWdodFNsaWRlciIsImdzYXAiLCJoYW5kbGVSZWFsaXphdGlvblNsaWRlciIsImVhc2UiLCJkdXJhdHJpb24iLCJ5IiwiaGFuZGxlT3BpbmlvbnNTbGlkZXIiLCJwYXJzZUludCIsImRvdCIsInRhcmdldE51bWJlciIsImN1cnJlbnROdW1iZXIiLCJjYXJkTnVtYmVyIiwiYWN0aXZlQ2FyZCIsImRpZmYiLCJkYXRhc2V0IiwiYWJzIiwiTWF0aCIsImRpcmVjdGlvbiIsInZhbHVlIiwibmV3Q2FyZE51bWJlciIsImFjdGl2ZUNhcmREYXRhc2V0IiwiY2FyZCIsImZyb20iLCJmaW5kIiwib2Zmc2V0IiwibmV3QWN0aXZlQ2FyZCIsInN0eWxlIiwidHJhbnNmb3JtIiwiY29uY2F0IiwiQXJyYXkiLCJhZGQiLCJtYXhJbmRleCIsImxl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IjoibGFuZGluZ1BhZ2UubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IG9waW5pb25zQ2FyZHNcclxubGV0IG9waW5pb25zUHJvZ3Jlc3NEb3RzXHJcbmxldCBvcGluaW9uc0J0blJpZ2h0XHJcbmxldCBvcGluaW9uc0J0bkxlZnRcclxubGV0IG9waW5pb25zQnRuc1xyXG5sZXQgb3BpbmlvbnNTbGlkZXJcclxuXHJcbi8vIHJlYWxpemF0aW9uXHJcbmxldCByZWFsaXphdGlvbkNhcmRzXHJcbmxldCByZWFsaXphdGlvbkJ0blJpZ2h0XHJcbmxldCByZWFsaXphdGlvbkJ0bkxlZnRcclxubGV0IHJlYWxpemF0aW9uQnRuc1xyXG5sZXQgcmVhbGl6YXRpb25TbGlkZXJcclxubGV0IGNhcmRXaWR0aCA9IDMwMCArIDIwIC8vIDMwMHB4IHN6ZXJva2/Fm2NpICsgbnAuIDIwcHggbWFyZ2luZXN1L2dhcCBtacSZZHp5IGthcnRhbWlcclxubGV0IGN1cnJlbnRJbmRleCA9IDAgLy8gcG9jesSFdGVrXHJcblxyXG5jb25zdCBtYWluMiA9ICgpID0+IHtcclxuXHRwcmVwYXJlRE9NRWxlbWVudHMoKVxyXG5cdHByZXBhcmVET01FdmVudHMoKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0b3BpbmlvbnNDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcGluaW9uc19fY2FyZCcpXHJcblx0b3BpbmlvbnNQcm9ncmVzc0RvdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3BpbmlvbnNfX3Byb2dyZXNzLWRvdCcpXHJcblx0b3BpbmlvbnNCdG5MZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9waW5pb25zX19idG4tLWxlZnQnKVxyXG5cdG9waW5pb25zQnRuUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3BpbmlvbnNfX2J0bi0tcmlnaHQnKVxyXG5cdG9waW5pb25zQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcGluaW9uc19fYnRuJylcclxuXHRvcGluaW9uc1NsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vcGluaW9uc19fc2xpZGVyJylcclxuXHJcblx0cmVhbGl6YXRpb25DYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZWFsaXphdGlvbl9fY2FyZCcpXHJcblx0cmVhbGl6YXRpb25CdG5SaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWFsaXphdGlvbl9fYnRuLS1yaWdodCcpXHJcblx0cmVhbGl6YXRpb25CdG5MZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlYWxpemF0aW9uX19idG4tLWxlZnQnKVxyXG5cdHJlYWxpemF0aW9uQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZWFsaXphdGlvbl9fYnRuJylcclxuXHRyZWFsaXphdGlvblNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWFsaXphdGlvbl9fc2xpZGVyJylcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUV2ZW50cyA9ICgpID0+IHtcclxuXHRvcGluaW9uc0J0bnMuZm9yRWFjaChidG4gPT4ge1xyXG5cdFx0aWYgKGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ29waW5pb25zX19idG4tLWxlZnQnKSkge1xyXG5cdFx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVPcGluaW9uTGVmdFNsaWRlcilcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU9waW5pb25SaWdodFNsaWRlcilcclxuXHRcdH1cclxuXHR9KVxyXG5cdGhhbmRsZU9waW5pb25zRG90KClcclxuXHJcblx0cmVhbGl6YXRpb25CdG5zLmZvckVhY2goYnRuID0+IHtcclxuXHRcdGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdyZWFsaXphdGlvbl9fYnRuLS1sZWZ0JykpIHtcclxuXHRcdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVhbGl6YXRpb25CdG5MZWZ0U2xpZGVyKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUmVhbGl6YXRpb25CdG5SaWdodFNsaWRlcilcclxuXHRcdH1cclxuXHR9KVxyXG5cclxuXHRoYW5kbGVSZWFsaXphdGlvblNsaWRlcigpXHJcblx0Z3NhcC5mcm9tKCcuaGVhZGVyJywgeyBkdXJhdHJpb246IDEsIHk6ICctMTAwJScsIGVhc2U6ICdib3VuY2UnIH0pXHJcblx0XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZU9waW5pb25MZWZ0U2xpZGVyID0gKCkgPT4ge1xyXG5cdGhhbmRsZU9waW5pb25zU2xpZGVyKCdsZWZ0JywgLTEpXHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZU9waW5pb25SaWdodFNsaWRlciA9ICgpID0+IHtcclxuXHRoYW5kbGVPcGluaW9uc1NsaWRlcigncmlnaHQnLCAxKVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVPcGluaW9uc0RvdCA9ICgpID0+IHtcclxuXHRvcGluaW9uc1Byb2dyZXNzRG90cy5mb3JFYWNoKGRvdCA9PiB7XHJcblx0XHRkb3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHRhcmdldE51bWJlciA9IHBhcnNlSW50KGRvdC5kYXRhc2V0LmNhcmROdW1iZXIpXHJcblx0XHRcdGNvbnN0IGFjdGl2ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3BpbmlvbnNfX2NhcmQtLWFjdGl2ZScpXHJcblx0XHRcdGNvbnN0IGN1cnJlbnROdW1iZXIgPSBwYXJzZUludChhY3RpdmVDYXJkLmRhdGFzZXQuY2FyZE51bWJlcilcclxuXHRcdFx0Y29uc3QgZGlmZiA9IHRhcmdldE51bWJlciAtIGN1cnJlbnROdW1iZXJcclxuXHJcblx0XHRcdGlmIChkaWZmICE9PSAwKSB7XHJcblx0XHRcdFx0aGFuZGxlT3BpbmlvbnNTbGlkZXIoZGlmZiA+IDAgPyAncmlnaHQnIDogJ2xlZnQnLCBNYXRoLmFicyhkaWZmKSlcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9KVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVPcGluaW9uc1NsaWRlciA9IChkaXJlY3Rpb24sIHZhbHVlKSA9PiB7XHJcblx0bGV0IGFjdGl2ZUNhcmQgPSBBcnJheS5mcm9tKG9waW5pb25zQ2FyZHMpLmZpbmQoY2FyZCA9PiBjYXJkLmNsYXNzTGlzdC5jb250YWlucygnb3BpbmlvbnNfX2NhcmQtLWFjdGl2ZScpKVxyXG5cclxuXHRjb25zdCBhY3RpdmVDYXJkRGF0YXNldCA9IGFjdGl2ZUNhcmQuZGF0YXNldC5jYXJkTnVtYmVyXHJcblx0YWN0aXZlQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdvcGluaW9uc19fY2FyZC0tYWN0aXZlJylcclxuXHJcblx0bGV0IG5ld0NhcmROdW1iZXIgPSBwYXJzZUludChhY3RpdmVDYXJkRGF0YXNldCkgKyB2YWx1ZVxyXG5cclxuXHRpZiAobmV3Q2FyZE51bWJlciA+IDMpIG5ld0NhcmROdW1iZXIgPSAxXHJcblx0aWYgKG5ld0NhcmROdW1iZXIgPCAxKSBuZXdDYXJkTnVtYmVyID0gM1xyXG5cclxuXHRjb25zdCBvZmZzZXQgPSAobmV3Q2FyZE51bWJlciAtIDEpICogMzIwXHJcblx0b3BpbmlvbnNTbGlkZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoLSR7b2Zmc2V0fXB4KWBcclxuXHJcblx0Y29uc3QgbmV3QWN0aXZlQ2FyZCA9IEFycmF5LmZyb20ob3BpbmlvbnNDYXJkcykuZmluZChjYXJkID0+IHBhcnNlSW50KGNhcmQuZGF0YXNldC5jYXJkTnVtYmVyKSA9PT0gbmV3Q2FyZE51bWJlcilcclxuXHRuZXdBY3RpdmVDYXJkLmNsYXNzTGlzdC5hZGQoJ29waW5pb25zX19jYXJkLS1hY3RpdmUnKVxyXG5cclxuXHRjb25zdCBhY3RpdmVEb3QgPSBBcnJheS5mcm9tKG9waW5pb25zUHJvZ3Jlc3NEb3RzKS5maW5kKFxyXG5cdFx0ZG90ID0+IHBhcnNlSW50KGRvdC5kYXRhc2V0LmNhcmROdW1iZXIpID09PSBwYXJzZUludChhY3RpdmVDYXJkRGF0YXNldClcclxuXHQpXHJcblx0YWN0aXZlRG90LmNsYXNzTGlzdC5yZW1vdmUoJ29waW5pb25zX19wcm9ncmVzcy1kb3QtLWFjdGl2ZScpXHJcblxyXG5cdGNvbnN0IG5ld0FjdGl2ZURvdCA9IEFycmF5LmZyb20ob3BpbmlvbnNQcm9ncmVzc0RvdHMpLmZpbmQoZG90ID0+IHBhcnNlSW50KGRvdC5kYXRhc2V0LmNhcmROdW1iZXIpID09PSBuZXdDYXJkTnVtYmVyKVxyXG5cdG5ld0FjdGl2ZURvdC5jbGFzc0xpc3QuYWRkKCdvcGluaW9uc19fcHJvZ3Jlc3MtZG90LS1hY3RpdmUnKVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVSZWFsaXphdGlvbkJ0bkxlZnRTbGlkZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgbWF4SW5kZXggPSByZWFsaXphdGlvbkNhcmRzLmxlbmd0aCAtIDFcclxuXHRpZiAoY3VycmVudEluZGV4IDw9IG1heEluZGV4KSB7XHJcblx0XHRjdXJyZW50SW5kZXgtLVxyXG5cdFx0aGFuZGxlUmVhbGl6YXRpb25TbGlkZXIoKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgaGFuZGxlUmVhbGl6YXRpb25CdG5SaWdodFNsaWRlciA9ICgpID0+IHtcclxuXHRjb25zdCBtYXhJbmRleCA9IHJlYWxpemF0aW9uQ2FyZHMubGVuZ3RoIC0gMVxyXG5cdGlmIChjdXJyZW50SW5kZXggPCBtYXhJbmRleCkge1xyXG5cdFx0Y3VycmVudEluZGV4KytcclxuXHRcdGhhbmRsZVJlYWxpemF0aW9uU2xpZGVyKClcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZVJlYWxpemF0aW9uU2xpZGVyID0gKCkgPT4ge1xyXG5cdGNvbnNvbGUubG9nKHJlYWxpemF0aW9uQ2FyZHMubGVuZ3RoKVxyXG5cdGNvbnN0IG1heEluZGV4ID0gcmVhbGl6YXRpb25DYXJkcy5sZW5ndGggLSAxXHJcblxyXG5cdGlmIChjdXJyZW50SW5kZXggPT09IG1heEluZGV4KSB7XHJcblx0XHRsZXQgY2FyZFdpZHRoID0gMjgwXHJcblx0XHRyZWFsaXphdGlvblNsaWRlci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtjdXJyZW50SW5kZXggKiBjYXJkV2lkdGh9cHgpYFxyXG5cdFx0cmVhbGl6YXRpb25CdG5SaWdodC5jbGFzc0xpc3QuYWRkKCdyZWFsaXphdGlvbl9fYnRuLS1hY3RpdmUnKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRyZWFsaXphdGlvblNsaWRlci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtjdXJyZW50SW5kZXggKiBjYXJkV2lkdGh9cHgpYFxyXG5cclxuXHRcdGlmIChjdXJyZW50SW5kZXggPT09IDApIHtcclxuXHRcdFx0cmVhbGl6YXRpb25CdG5MZWZ0LmNsYXNzTGlzdC5hZGQoJ3JlYWxpemF0aW9uX19idG4tLWFjdGl2ZScpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZWFsaXphdGlvbkJ0bkxlZnQuY2xhc3NMaXN0LnJlbW92ZSgncmVhbGl6YXRpb25fX2J0bi0tYWN0aXZlJylcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY3VycmVudEluZGV4ID49IG1heEluZGV4KSB7XHJcblx0XHRcdHJlYWxpemF0aW9uQnRuUmlnaHQuY2xhc3NMaXN0LmFkZCgncmVhbGl6YXRpb25fX2J0bi0tYWN0aXZlJylcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlYWxpemF0aW9uQnRuUmlnaHQuY2xhc3NMaXN0LnJlbW92ZSgncmVhbGl6YXRpb25fX2J0bi0tYWN0aXZlJylcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluMilcclxuIl19
